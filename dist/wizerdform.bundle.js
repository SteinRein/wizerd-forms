var WizerdForm;WizerdForm=(()=>{var e={745:(e,t,r)=>{e.exports=r(42).WizerdForm},42:(e,t,r)=>{"use strict";function n(e){return function(e){if(Array.isArray(e))return i(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return i(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}r.d(t,{WizerdForm:()=>a});var a=function(){function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};s(this,e);var i={startIndex:0,pages:".wizerdform-page",controls_position:"bottom",page_hidden_class:"wizerdform-hidden-page",page_active_class:"wizerdform-active-page",progressbar_class:"wizerdform-progress",prev_btn_text:"Previous",next_btn_text:"Next",submit_text:null};for(var o in r=r||{},i)i.hasOwnProperty(o)&&!r.hasOwnProperty(o)&&(r[o]=i[o]);this.options=r,this.form=t,this.pages=NodeList.prototype.isPrototypeOf(this.options.pages)||HTMLCollection.prototype.isPrototypeOf(this.options.pages)?n(this.options.pages):n(t.querySelectorAll(this.options.pages)),this.formFields=this.getFormFields(["fieldset","button"]),this.prevButton=this.nextButton=this.progressBar=null,this.curIndex=this.options.startIndex,this.values={}}var t,r,i;return t=e,(r=[{key:"init",value:function(){this.__addControls(),this.goToPage(this.curIndex),this.__delegateEvents()}},{key:"destroy",value:function(){this.__removeControls(),this.goToPage(0),this.__delegateEvents("remove")}},{key:"getFormFields",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=n(this.form.elements);return t.filter((function(t){return e.indexOf(t.type)<0}))}},{key:"goToPage",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(t<0)return!1;Array.prototype.forEach.call(this.pages,(function(t){t.classList.add(e.options.page_hidden_class)})),this.pages[t].classList.remove(this.options.page_hidden_class),this.pages[t].classList.add(this.options.page_active_class),0!==t?this.prevButton.classList.remove("wizerdform-button-hidden"):this.prevButton.classList.add("wizerdform-button-hidden"),t===this.pages.length-1?this.options.submit_text&&(this.nextButton.innerText=this.options.submit_text):this.nextButton.innerText=this.options.next_btn_text,this.updateProgressBar(t)}},{key:"navigateForm",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(1===e&&!this.validate()||-1===e&&0===this.curIndex)return!1;this.pages[this.curIndex].classList.remove(this.options.page_active_class);var t=new Event("wizerdForm_navigate",{bubbles:!0});if(this.form.dispatchEvent(t),this.curIndex===this.pages.length-1&&e>0){var r=document.createEvent("HTMLEvents");r.initEvent("submit",!0,!0),r.eventName="submit",this.form.dispatchEvent(r)}else this.curIndex+=e;this.goToPage(this.curIndex)}},{key:"setValues",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};for(var r in t)this.values[r]=t[r];var n=this.form.elements;Array.prototype.forEach.call(this.formFields,(function(t){n[t.name]&&(e.values[t.name]=n[t.name].value)}))}},{key:"validate",value:function(){var e=!0,t=new Event("wizerdForm_validationFailed",{bubbles:!0});return HTMLInputElement.prototype.checkValidity?n(this.pages[this.curIndex].elements).forEach((function(r){r.checkValidity()||(r.classList.add("has-error"),r.dispatchEvent(t),e=!1)})):n(this.pages[this.curIndex].querySelectorAll("[required]")).forEach((function(r){null!==r.value&&""!==r.value.trim()||(r.classList.add("has-error"),r.dispatchEvent(t),e=!1)})),e}},{key:"clearErrors",value:function(e){e.target.classList.remove("has-error")}},{key:"updateProgressBar",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.progressBar.style.width=100*(e+1)/this.pages.length+"%"}},{key:"__delegateEvents",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"add";Array.prototype.forEach.call(this.formFields,(function(r){"remove"!==t?(r.addEventListener("keyup",e.clearErrors.bind(e)),r.addEventListener("change",e.clearErrors.bind(e)),r.addEventListener("keyup",e.setValues.bind(e)),r.addEventListener("change",e.setValues.bind(e))):(r.removeEventListener("keyup",e.clearErrors.bind(e)),r.removeEventListener("change",e.clearErrors.bind(e)),r.removeEventListener("keyup",e.setValues.bind(e)),r.removeEventListener("change",e.setValues.bind(e)))})),"remove"!==t?(this.prevButton.addEventListener("click",this.navigateForm.bind(this,-1)),this.nextButton.addEventListener("click",this.navigateForm.bind(this,1))):(this.prevButton.removeEventListener("click",this.navigateForm.bind(this,-1)),this.nextButton.removeEventListener("click",this.navigateForm.bind(this,1)))}},{key:"__addControls",value:function(){var e=document.createElement("div");e.className="wizerdform-controls";var t=document.createElement("button");t.className="wizerdform-prev",t.type="button",t.innerText=this.options.prev_btn_text;var r=document.createElement("button");r.className="wizerdform-next",r.type="button",r.innerText=this.options.next_btn_text;var n=document.createElement("div");n.className="wizerdform-progress",[t,r,n].forEach((function(t){e.appendChild(t)})),"top"!==this.options.controls_position?this.form.appendChild(e):this.form.insertBefore(e,this.form.firstChild),this.prevButton=t,this.nextButton=r,this.progressBar=n}},{key:"__removeControls",value:function(){var e=this.form.querySelector(".wizerdform-controls");e.parentElement.removeChild(e),this.prevButton=this.nextButton=this.progressBar=null}},{key:"on",value:function(e,t){switch(e){case"input":this.__handle_inputChange(t);break;case"error":this.__handle_validation_error(t);break;case"navigate":this.__handle_navigate(t)}return!1}},{key:"__handle_inputChange",value:function(e){var t=this;Array.prototype.forEach.call(this.formFields,(function(r){r.addEventListener("change",e.bind(t,{_wizerdForm:t,el:r,value:r.value}))}))}},{key:"__handle_validation_error",value:function(e){var t=this;Array.prototype.forEach.call(this.formFields,(function(r){r.addEventListener("wizerdForm_validationFailed",e.bind(t,{_wizerdForm:t,el:r}))}))}},{key:"__handle_navigate",value:function(e){this.form.addEventListener("wizerdForm_navigate",e.bind(this,{_wizerdForm:this,page:this.curIndex}))}}])&&o(t.prototype,r),i&&o(t,i),e}()}},t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={exports:{}};return e[n](i,i.exports,r),i.exports}return r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r(745)})();